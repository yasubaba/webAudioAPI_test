"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isMember = exports.isAcknowledgePayload = exports.isMessagePayload = void 0;
const AcknowledgeReason = [
    'rateLimitExceeded',
    'targetNotFound',
    'payloadLengthExceeded',
    'invalidPayload',
    'unknown',
    'parameterError',
    'permissionError',
];
function isMessagePayload(payload) {
    if (!payload || typeof payload !== 'object')
        return false;
    if (!isMember(payload.src))
        return false;
    if (!payload.data || typeof payload.data !== 'object')
        return false;
    return true;
}
exports.isMessagePayload = isMessagePayload;
function isAcknowledgePayload(payload) {
    if (!payload || typeof payload !== 'object')
        return false;
    if (typeof payload.eventId !== 'string')
        return false;
    if (typeof payload.ok !== 'boolean')
        return false;
    if (typeof payload.reason !== 'undefined' &&
        (typeof payload.reason !== 'string' || !AcknowledgeReason.includes(payload.reason)))
        return false;
    return true;
}
exports.isAcknowledgePayload = isAcknowledgePayload;
function isMember(arg) {
    if (arg === undefined || Array.isArray(arg))
        return false;
    if (typeof arg !== 'object')
        return false;
    if (typeof arg.id !== 'string')
        return false;
    if (typeof arg.name !== 'undefined' && typeof arg.name !== 'string')
        return false;
    return true;
}
exports.isMember = isMember;
//# sourceMappingURL=payloadTypes.js.map