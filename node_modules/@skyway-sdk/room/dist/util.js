"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createError = void 0;
const common_1 = require("@skyway-sdk/common");
function createError({ operationName, context, info, error, path, payload, room, }) {
    const errPayload = {
        operationName,
        payload,
    };
    if (room) {
        errPayload['appId'] = room._channel.appId;
        errPayload['roomId'] = room.id;
        if (room.localRoomMember) {
            errPayload['memberId'] = room.localRoomMember.id;
        }
    }
    if (context) {
        errPayload['info'] = context.info;
        errPayload['plugins'] = context.plugins.map((p) => p.subtype);
    }
    return new common_1.SkyWayError({ error, info, payload: errPayload, path });
}
exports.createError = createError;
//# sourceMappingURL=util.js.map